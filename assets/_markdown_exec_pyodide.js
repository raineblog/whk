var _sessions={};function getSession(e,t){return e in _sessions||(_sessions[e]=t.globals.get("dict")()),_sessions[e]}function writeOutput(e,t){e.innerHTML+=t+"\n"}function clearOutput(e){e.innerHTML=""}async function evaluatePython(e,t,n,i){e.setStdout({batched:e=>{writeOutput(n,new Option(e).innerHTML)}});let o,r=t.getValue();clearOutput(n);try{o=await e.runPythonAsync(r,{globals:getSession(i,e)})}catch(e){writeOutput(n,new Option(e.toString()).innerHTML)}o&&writeOutput(n,new Option(o).innerHTML),hljs.highlightElement(n)}async function initPyodide(){try{let e=await loadPyodide();return await e.loadPackage("micropip"),e}catch(e){return null}}function getTheme(){return document.body.getAttribute("data-md-color-scheme")}function setTheme(e,t,n,i){"default"===t?(e.setTheme("ace/theme/"+n),document.querySelector('link[title="light"]').removeAttribute("disabled"),document.querySelector('link[title="dark"]').setAttribute("disabled","disabled")):"slate"===t&&(e.setTheme("ace/theme/"+i),document.querySelector('link[title="dark"]').removeAttribute("disabled"),document.querySelector('link[title="light"]').setAttribute("disabled","disabled"))}function updateTheme(e,t,n){new MutationObserver(i=>{i.forEach(i=>{if("data-md-color-scheme"===i.attributeName){const o=i.target.getAttribute("data-md-color-scheme");setTheme(e,o,t,n)}})}).observe(document.body,{attributes:!0,attributeFilter:["data-md-color-scheme"]})}async function setupPyodide(e,t=null,n="tomorrow",i="tomorrow_night",o=null,r=5,a=30){const u=ace.edit(e+"editor"),l=document.getElementById(e+"run"),c=document.getElementById(e+"clear"),s=document.getElementById(e+"output");updateTheme(u,n,i),u.session.setMode("ace/mode/python"),setTheme(u,getTheme(),n,i),u.setOption("minLines",r),u.setOption("maxLines",a),u.resize(),writeOutput(s,"Initializing...");let d=await pyodidePromise;if(t&&t.length)try{micropip=d.pyimport("micropip");for(const e of t)await micropip.install(e);clearOutput(s)}catch(e){clearOutput(s),writeOutput(s,`Could not install one or more packages: ${t.join(", ")}\n`),writeOutput(s,new Option(e.toString()).innerHTML)}else clearOutput(s);l.onclick=()=>evaluatePython(d,u,s,o),c.onclick=()=>clearOutput(s),s.parentElement.parentElement.addEventListener("keydown",e=>{e.ctrlKey&&"enter"===e.key.toLowerCase()&&(e.preventDefault(),l.click())})}var pyodidePromise=initPyodide();
//# sourceMappingURL=_markdown_exec_pyodide.js.map
