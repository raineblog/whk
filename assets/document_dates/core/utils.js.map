{"version":3,"file":"utils.js","names":["LANGUAGE_STORAGE_KEY","window","ddUtils","resolveTimeagoLocale","rawLocale","shortLang","trim","replace","split","bn","en","hi","id","nb","nn","pt","zh","saveLanguage","langCode","localStorage","setItem","e","console","warn","getSavedLanguage","getItem","clearLanguage","removeItem"],"sources":["assets/document_dates/core/utils.js"],"mappings":"AAKA,MAAMA,qBAAuB,0BAE7BC,OAAOC,QAAU,CAEb,oBAAAC,CAAqBC,GAEjB,MAAMC,EAAYD,EAAUE,OAAOC,QAAQ,KAAM,KAAKC,MAAM,KAAK,GAWjE,MAVkB,CACdC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,SAESX,IAAcA,CACnC,EAGA,YAAAY,CAAaC,GACT,GAAIA,EACA,IACIC,aAAaC,QAAQpB,qBAAsBkB,EAC/C,CAAE,MAAOG,GACLC,QAAQC,KAAK,sCAAuCF,EACxD,CAER,EAGA,gBAAAG,GACI,IACI,OAAOL,aAAaM,QAAQzB,qBAChC,CAAE,MAAOqB,GAEL,OADAC,QAAQC,KAAK,2CAA4CF,GAClD,IACX,CACJ,EAGA,aAAAK,GACI,IACIP,aAAaQ,WAAW3B,qBAC5B,CAAE,MAAOqB,GACLC,QAAQC,KAAK,uCAAwCF,EACzD,CACJ","ignoreList":[],"sourcesContent":["/*\n    工具函数\n*/\n\n// 语言存储与获取\nconst LANGUAGE_STORAGE_KEY = 'document_dates_language';\n\nwindow.ddUtils = {\n    // 处理 timeago 的 locale 格式\n    resolveTimeagoLocale(rawLocale) {\n        // 兼容 「ISO 639、ISO 3166、BCP 47」 格式\n        const shortLang = rawLocale.trim().replace(/-/g, '_').split('_')[0];\n        const fixLocale = {\n            bn: 'bn_IN',\n            en: 'en_US',\n            hi: 'hi_IN',\n            id: 'id_ID',\n            nb: 'nb_NO',\n            nn: 'nn_NO',\n            pt: 'pt_BR',\n            zh: 'zh_CN'\n        };\n        return fixLocale[shortLang] || shortLang;\n    },\n\n    // 保存当前语言到 localStorage\n    saveLanguage(langCode) {\n        if (langCode) {\n            try {\n                localStorage.setItem(LANGUAGE_STORAGE_KEY, langCode);\n            } catch (e) {\n                console.warn('Failed to save language preference:', e);\n            }\n        }\n    },\n\n    // 从 localStorage 获取保存的语言\n    getSavedLanguage() {\n        try {\n            return localStorage.getItem(LANGUAGE_STORAGE_KEY);\n        } catch (e) {\n            console.warn('Failed to get saved language preference:', e);\n            return null;\n        }\n    },\n\n    // 清除保存的语言设置\n    clearLanguage() {\n        try {\n            localStorage.removeItem(LANGUAGE_STORAGE_KEY);\n        } catch (e) {\n            console.warn('Failed to clear language preference:', e);\n        }\n    }\n};"]}