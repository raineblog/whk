---
description: 检查 lint 和自动生成 meta 中的 description 字段要求。
---

对于用户指定的文件，你需要按照下面的步骤进行：

1. 执行 `python .agent/scripts/lint.py --file docs/xxx/xxx.md`，结果会写入 `docs/xxx/xxx.md.log`（源文件名 + .log）中，你需要阅读这个文件获取 lint 详情。

2. 你需要手动进行复查，并进一步修复 lint 的错误和警告，尽量修复所有错误，除了一些你认为是误判的错误。如果源文件中有大段显然是格式完全混乱的，请你跳过，因为文件可能仍在 draft 阶段。

3. 重复执行 `python .agent/scripts/lint.py --file docs/xxx/xxx.md`，继续检查，直到你认为没有能够修复的错误。

4. 执行完最基础的 lint 后，你需要阅读整个文章，修复错别字、严重的病句等，同时纠正一些低级错误（例如手误、公式错误、运算错误等等），你需要深度理解文章和文章所讲解的内容。

5. 然后，你需要重新执行 `python .agent/scripts/lint.py --file docs/xxx/xxx.md` 并修复，确保你的修改没有引入新的格式错误或不规范。

6. 最后，你需要在文件的最开头加上 meta-data，你只需要写入 summary 和 description 字段，如果已经存在那么覆写这两个，其他的保留。summary 是一个不多于两句的简短总结，而 description 是一个不超过 200 字的说明性、概括性文段。不需要写入文件正文。

附：已知的 lint 误判或者错判、漏判。

- 图片引用 `![](filepath)` 中 filepath 中有中英文连续，autocorrect 会识别并为其添加空格，这是错误的，为了避免引用失效，为了避免不必要的麻烦，这种问题不需要修改，更不需要修改文件名。

- 对于 Markdown codeblock 中的文字，默认开启了 autocorrect 中相应配置，但是对于大量英文代码的情况，可能会有问题，如果问题过多，或者你认为可能引起不必要的麻烦，请忽略这类问题。

- 对于中文之间有多余空格，目前的 lint 无法识别，例如从 PDF 中拷贝进去的文字，有 `中 文 之 间 多 余 空 格` 的问题，请你修复为例如中文之间多余空格。

- 部分 KaTeX 公式使用了自定义宏，尽管我们不建议你使用，但是用户使用就不要动了，请参考 `.agent/rules/ex-markdown-format-rules.md` `.agent/rules/ex-mkdocs-format-rules.md` `.agent/rules/ex-copywriting-guidelines.md` 三个文件。请你在执行任何命令之前阅读 rules 中的所有内容，确保你掌握整个项目。

- 注意：请严格按照 4 空格缩进有无序列表等。

- 用户可能会从 PDF 中复制一些文字、段落，因此会有大量的中文段落分成若干行，你需要把这些合成一行，例如

```md
第一行
有这些文字，你
需要把他们合并成
一行。
```

需要修改为：

```md
第一行有这些文字，你需要把他们合并成一行。
```

此时请注意如果行首是英文，需要在上一行末和这一行初之间加上空格。

提示：如果用户给了你多个文件，那么你需要一个文件一个文件的完成，先确保一个文件已经完全完成，再进行下一个文件。如果一个文件的行数大于 100，你需要一次按照 100 行为一个小任务（过程）进行，避免上下文太长影响你的输出精度和质量。
